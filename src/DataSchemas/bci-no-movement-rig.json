{
  "$id": "h...",
  "$schema": "https://json-schema.org/draft-07/schema",
  "definitions": {
    "spoutAxis": {
      "type": "string",
      "enum": ["X", "Y", "Z"],
      "default": "X",
      "description": "Axis of the manipulator controlling the spout."
    },
    "zaberGenericCommand": {
      "type": "object",
      "properties": {
        "command": {
          "type": "string",
          "description": "The command to send to the Zaber device."
        },
        "axis": {
          "oneOf": [
            {
              "$ref": "#/definitions/spoutAxis"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The axis to send the command to."
        },
        "device": {
          "type": ["null", "integer"],
          "minimum": 0,
          "default": null,
          "description": "The timeout in seconds for the command."
        }
      },
      "required": ["command"]
    }
  },
  "properties": {
    "harpBehaviorBoard": {
      "$ref": "bci-no-movement-hardware.json#/definitions/harpBoard"
    },
    "harpLoadCellsBoard": {
      "$ref": "bci-no-movement-hardware.json#/definitions/harpBoard"
    },
    "harpTimestampGeneratorGen3": {
      "$ref": "bci-no-movement-hardware.json#/definitions/harpBoard"
    },
    "camera0": {
      "$ref": "bci-no-movement-hardware.json#/definitions/spinnakerCamera"
    },
    "camera1": {
      "$ref": "bci-no-movement-hardware.json#/definitions/spinnakerCamera"
    },
    "zaberManipulator": {
      "type": "object",
      "properties": {
        "communication": {
          "$ref": "bci-no-movement-hardware.json#/definitions/serialDevice"
        },
        "operation": {
          "type": "object",
          "properties": {
            "genericCommands": {
              "type": "array",
              "default": [],
              "items": { "$ref": "#/definitions/zaberGenericCommand" }
            },
            "spoutAxis": {
              "$ref": "#/definitions/spoutAxis"
            },
            "maxSpeed": {
              "type": "number",
              "minimum": 0,
              "default": 12.0,
              "description": "Maximum speed of the manipulator in mm/s"
            },
            "acceleration": {
              "type": "number",
              "minimum": 0,
              "default": 1299.63,
              "description": "Acceleration of the manipulator in mm/s^2"
            }
          }
        }
      }
    },
    "networking": {
      "type": "object",
      "properties": {
        "zmqPublisher": {
          "type": "object",
          "properties": {
            "connectionString": {
              "type": "string",
              "default": "@tcp://localhost:5556"
            },
            "topic": {
              "type": "string",
              "default": "bci-no-movement"
            }
          }
        },
        "zmqSubscriber": {
          "type": "object",
          "properties": {
            "connectionString": {
              "type": "string",
              "default": "tcp://localhost:5557"
            },
            "topic": {
              "type": "string",
              "default": "bci-no-movement"
            }
          }
        }
      }
    }
  },
  "required": [
    "harpBehaviorBoard",
    "harpLoadCellsBoard",
    "harpTimestampGeneratorGen3",
    "camera0",
    "camera1",
    "zaberManipulator",
    "networking"
  ],
  "title": "BciNoMovementRig",
  "type": "object"
}
